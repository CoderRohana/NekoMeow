<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neko Meow</title>
    <style>
        :root {
            --primary: #ff69b4;
            --primary-dark: #ff1493;
            --bg-light: #ffe4e1;
            --white: #ffffff;
            --black: #000000;
            --shadow: rgba(0, 0, 0, 0.2);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--bg-light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* Header Styles */
        header {
            background-color: var(--black);
            padding: 15px 20px;
            box-shadow: 0 2px 8px var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .logo {
            color: var(--primary);
            font-weight: bold;
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            display: flex;
            align-items: center;
        }
        
        .logo span {
            margin-left: 5px;
        }

        .logo-link{
            color: var(--primary);
            text-decoration: none;
        }
        
        .nav-links {
            display: flex;
            gap: 20px;
        }
        
        .nav-links a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 5px 10px;
            border-radius: 8px;
        }
        
        .nav-links a:hover {
            background-color: rgba(255, 105, 180, 0.2);
            color: var(--primary-dark);
        }
        
        /* Main Content */
        main {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            max-width: 600px;
            width: 100%;
            background: var(--white);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0px 4px 10px var(--shadow);
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        h1 {
            color: var(--primary);
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .button-container {
            display: flex;
            justify-content: center;
            width: 100%;
            margin: 10px 0;
        }
        
        button {
            background-color: var(--primary);
            color: var(--white);
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: clamp(14px, 4vw, 16px);
            transition: 0.3s;
        }
        
        button:hover {
            background-color: var(--primary-dark);
            transform: scale(1.05);
        }
        
        button:active {
            transform: scale(0.98);
        }
        
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        
        .image-wrapper {
            margin-top: 20px;
            min-height: 250px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            width: 100%;
        }
        
        /* Cute image transitions */
        .image-wrapper img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        
        .image-wrapper img.loading {
            transform: scale(0.8) rotate(-5deg);
            opacity: 0;
            filter: blur(10px);
        }
        
        .image-wrapper img.loaded {
            transform: scale(1) rotate(0);
            opacity: 1;
            filter: blur(0);
        }
        
        /* Paw print loading animation */
        .paw-loading {
            display: none;
            position: absolute;
        }
        
        .paw-loading svg {
            width: 50px;
            height: 50px;
            animation: bounce 1s infinite alternate;
            fill: var(--primary);
        }
        
        @keyframes bounce {
            from { transform: translateY(0) rotate(0); }
            to { transform: translateY(-15px) rotate(10deg); }
        }
        
        /* Footer */
        footer {
            background-color: var(--black);
            padding: 15px;
            text-align: center;
            box-shadow: 0 -2px 8px var(--shadow);
            color: var(--primary);
            font-size: 0.9rem;
        }
        
        footer a {
            color: var(--primary-dark);
            text-decoration: none;
        }
        
        footer a:hover {
            text-decoration: underline;
        }
        
        /* Responsive adjustments */
        @media (max-width: 480px) {
            .container {
                padding: 15px;
                margin: 10px;
            }
            
            .nav-links {
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12,8L10.67,8.09C9.81,7.07 7.4,4.5 5,4.5C5,4.5 3.03,7.46 4.96,11.41C4.41,12.24 4.07,12.67 4,13.66L2.07,13.95L2.28,14.93L4.04,14.67L4.18,15.38L2.61,16.32L3.08,17.21L4.53,16.32C5.68,18.76 8.59,20 12,20C15.41,20 18.32,18.76 19.47,16.32L20.92,17.21L21.39,16.32L19.82,15.38L19.96,14.67L21.72,14.93L21.93,13.95L20,13.66C19.93,12.67 19.59,12.24 19.04,11.41C20.97,7.46 19,4.5 19,4.5C16.6,4.5 14.19,7.07 13.33,8.09L12,8Z" fill="#ff69b4"/>
                    <path d="M9,11.75A1.25,1.25 0 0,0 7.75,13A1.25,1.25 0 0,0 9,14.25A1.25,1.25 0 0,0 10.25,13A1.25,1.25 0 0,0 9,11.75M15,11.75A1.25,1.25 0 0,0 13.75,13A1.25,1.25 0 0,0 15,14.25A1.25,1.25 0 0,0 16.25,13A1.25,1.25 0 0,0 15,11.75Z" fill="#ff69b4"/>
                </svg>
                <span><a class ="logo-link" href="index.html">Neko Meow</a></span>
            </div>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="about.html">About</a>
            </div>
        </nav>
    </header>
    
    <main>
        <div class="container">
            <h1>Random Cat Girl Generator</h1>
            <div class="button-container">
                <button id="fetch-button" onclick="fetchNekoImage()">Get a Cat Girl</button>
            </div>
            <div class="image-wrapper">
                <div id="paw-loading" class="paw-loading">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M8.35,3C9.53,2.83 10.78,4.12 11.14,5.9C11.5,7.67 10.85,9.25 9.67,9.43C8.5,9.61 7.24,8.32 6.87,6.54C6.5,4.77 7.17,3.19 8.35,3M15.5,3C16.69,3.19 17.35,4.77 17,6.54C16.62,8.32 15.37,9.61 14.19,9.43C13,9.25 12.35,7.67 12.72,5.9C13.08,4.12 14.33,2.83 15.5,3M3,7.6C4.14,7.11 5.69,8 6.5,9.55C7.26,11.13 7,12.79 5.87,13.28C4.74,13.77 3.2,12.89 2.41,11.32C1.62,9.75 1.9,8.08 3,7.6M21,7.6C22.1,8.08 22.38,9.75 21.59,11.32C20.8,12.89 19.26,13.77 18.13,13.28C17,12.79 16.74,11.13 17.5,9.55C18.31,8 19.86,7.11 21,7.6M19.33,18.38C19.37,19.32 18.65,20.36 17.79,20.75C16,21.57 13.88,19.87 11.89,19.87C9.9,19.87 7.81,21.64 6,20.75C5,20.31 4.31,19.33 4.35,18.38C4.36,18.13 4.42,17.89 4.53,17.67C4.66,17.4 4.85,17.17 5.08,16.93C6.04,15.96 7.66,15.82 9.07,15.96C10.15,16.05 11.07,15.12 12.03,15.12C12.91,15.12 13.91,16.13 15,15.96C16.28,15.82 17.92,15.96 18.92,16.93C19.39,17.4 19.74,17.79 19.33,18.38Z" />
                    </svg>
                </div>
                <img id="catgirl-img" class="loading" src="" alt="Click the button to get a cat girl!">
            </div>
        </div>
    </main>
    
    <footer>
        <p>Made with ❤️ by <a href="about.html">Rohan Dutta</a> | © 2025 Neko Meow</p>
    </footer>

    <script>
        
        const seenImages = new Set();
        const fetchButton = document.getElementById('fetch-button');
        const pawLoading = document.getElementById('paw-loading');
        const imgElement = document.getElementById('catgirl-img');
        
        async function fetchNekoImage() {
            try {
                
                fetchButton.disabled = true;
                pawLoading.style.display = 'block';
                
                
                imgElement.classList.add('loading');
                imgElement.classList.remove('loaded');
                
                
                const cacheBuster = Date.now();
                const response = await fetch(`https://api.nekosia.cat/api/v1/images/catgirl?t=${cacheBuster}`);
                
                if (!response.ok) {
                    throw new Error(`API responded with status: ${response.status}`);
                }
                
                const data = await response.json();
                const imageUrl = data.image.original.url;
                
                if (seenImages.has(imageUrl) && seenImages.size < 50) {
                    console.log("Duplicate image detected, trying again");
                    fetchButton.disabled = false;
                    fetchNekoImage();
                    return;
                }
                seenImages.add(imageUrl);
                
                imgElement.onload = function() {
                    pawLoading.style.display = 'none';
                    setTimeout(() => {
                        imgElement.classList.remove('loading');
                        imgElement.classList.add('loaded');
                    }, 100);
                };
                
                imgElement.onerror = function() {
                    pawLoading.style.display = 'none';
                    console.error("Failed to load image");
                    alert("Failed to load image. Please try again.");
                    fetchButton.disabled = false;
                };
                
                imgElement.src = imageUrl;
                
            } catch (error) {
                console.error("Error fetching the cat girl image:", error);
                pawLoading.style.display = 'none';
                alert("Oops! Couldn't fetch a cat girl. Please try again later.");
                fetchButton.disabled = false;
            } finally {
                setTimeout(() => {
                    fetchButton.disabled = false;
                }, 800);
            }
        }
        
        fetchButton.addEventListener('touchstart', function() {
            this.classList.add('active');
        });
        
        fetchButton.addEventListener('touchend', function() {
            this.classList.remove('active');
        });
    </script>
</body>
</html>